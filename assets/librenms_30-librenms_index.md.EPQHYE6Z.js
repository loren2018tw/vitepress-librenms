import{_ as s,o as a,c as n,R as e}from"./chunks/framework.Rav5NEMf.js";const t="/vitepress-librenms/assets/snmp-get-response.3ocmAkyu.gif",p="/vitepress-librenms/assets/snmp-trap.yViqsMN1.gif",i="/vitepress-librenms/assets/2023-12-15-18-40-06.Cupc9jTj.png",l="/vitepress-librenms/assets/2023-12-15-18-40-55.GXaOW0ZV.png",r="/vitepress-librenms/assets/2023-12-15-18-43-15.ADPB9-T-.png",o="/vitepress-librenms/assets/2023-12-15-18-44-26.zV7lLkXw.png",c="/vitepress-librenms/assets/2023-12-15-18-45-14.vGuFNDgT.png",h="/vitepress-librenms/assets/2023-12-15-18-57-31.xskbYSGP.png",d="/vitepress-librenms/assets/2023-12-15-19-03-08.tVAVHAPv.png",m="/vitepress-librenms/assets/2023-12-15-19-16-54.ci9dnB9l.png",g="/vitepress-librenms/assets/2024-05-27-16-05-33.hTQY8fkw.png",b="/vitepress-librenms/assets/2024-06-07-08-39-19.L3I_k6IR.png",M=JSON.parse('{"title":"LibreNMS - SNMP 網路管理系統","description":"","frontmatter":{},"headers":[],"relativePath":"librenms/30-librenms/index.md","filePath":"librenms/30-librenms/index.md"}'),u={name:"librenms/30-librenms/index.md"},k=e('<h1 id="librenms-snmp-網路管理系統" tabindex="-1">LibreNMS - SNMP 網路管理系統 <a class="header-anchor" href="#librenms-snmp-網路管理系統" aria-label="Permalink to &quot;LibreNMS - SNMP 網路管理系統&quot;">​</a></h1><h2 id="什麼是-librenms" tabindex="-1">什麼是 LibreNMS? <a class="header-anchor" href="#什麼是-librenms" aria-label="Permalink to &quot;什麼是 LibreNMS?&quot;">​</a></h2><p>LibreNMS 是一套支援 SNMP 協定的「網路管理系統」（NMS）。 官方網站： <a href="https://www.librenms.org/" target="_blank" rel="noreferrer">https://www.librenms.org/</a></p><h2 id="什麼是-snmp-簡易網路管理通訊協定-snmp" tabindex="-1">什麼是 SNMP : 簡易網路管理通訊協定 (SNMP) <a class="header-anchor" href="#什麼是-snmp-簡易網路管理通訊協定-snmp" aria-label="Permalink to &quot;什麼是 SNMP : 簡易網路管理通訊協定 (SNMP)&quot;">​</a></h2><p>這篇寫得很完整 <a href="https://www.manageengine.com/tw/network-monitoring/what-is-snmp.html" target="_blank" rel="noreferrer">SNMP 教程</a></p><p><em><strong>GET/GET NEXT/GET BULK/SET</strong></em> NMS 使用 port 161 傳送請求給網路裝置，裝置使用 port 161 回傳資料給 NMS <img src="'+t+'" alt=""></p><p><em><strong>TRAP</strong></em> 網路裝置也可以主動傳送資料給 NMS <img src="'+p+'" alt=""></p><h2 id="安裝-librenms" tabindex="-1">安裝 librenms <a class="header-anchor" href="#安裝-librenms" aria-label="Permalink to &quot;安裝 librenms&quot;">​</a></h2><ol><li><p>前往 LibreNMS 官方網站，<a href="https://www.librenms.org/#downloads" target="_blank" rel="noreferrer">安裝說明頁</a>有各種系統的安裝方式</p></li><li><p>我們將直接採用官方製作好的虛擬機匯入檔，簡化安裝的步驟 <img src="'+i+'" alt=""> 下載 virtualbox 的虛擬機匯入檔 <img src="'+l+'" alt=""></p></li><li><p>匯入下載的印象檔，用來建立新的虛擬機 <img src="'+r+'" alt=""><img src="'+o+'" alt=""><img src="'+c+'" alt=""></p></li></ol><p>按下完成後，稍待虛擬機建立好，先進入虛擬機的設定，將錄製選項取消勾選。這個選項會將整個虛擬機的畫面錄製成影片。 <img src="'+h+'" alt=""></p><p>匯入檔網路部份雖然是使用 NAT，但是他已經有設定連結埠轉送，所以也<strong>沒必要</strong>改成「橋接模式」。 <img src="'+d+`" alt=""> 這個設定就是說，你在 host 端的瀏覽器，連接 <a href="http://localhost:8080" target="_blank" rel="noreferrer">http://localhost:8080</a> 就等於是連到 guest 端機器的 80port。</p><p>接著我們啟動這個虛擬機後一個完整的 ubuntu + LibreNMS 系統就完成了。 在我們電腦了瀏覽器，開啟 <a href="http://localhost:8080" target="_blank" rel="noreferrer">http://localhost:8080</a> 就可以看到 LibreNMS 的網頁 GUI 界面了。 虛擬機預設的 LibreNMS 的帳密是</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>username: librenms</span></span>
<span class="line"><span>password: D32fwefwef</span></span></code></pre></div><p><img src="`+m+'" alt=""></p><h2 id="設定-ipv6-選用" tabindex="-1">設定 ipv6(選用) <a class="header-anchor" href="#設定-ipv6-選用" aria-label="Permalink to &quot;設定 ipv6(選用)&quot;">​</a></h2><p>虛擬機預設是使用 NAT + dhcp ，如果要增加 ipv6 的支援，建議就不要使用 NAT， Guest 主機改成用「橋接網路」。讓虛擬機有一個獨立的 ip 這樣設定虛擬機的 ipv4 跟 ipv6，就可以更接近一般獨立的 server。</p><ol><li><p>設定 guest 使用橋接模式 <img src="'+g+`" alt=""></p></li><li><p>登入 guest 主機，修改主機的網路設定 虛擬機 ubuntu 作業系統( ssh )的使用者帳密是</p></li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>username: vagrant</span></span>
<span class="line"><span>password: vagrant</span></span></code></pre></div><ol start="3"><li>先安裝 nano 文字編輯器</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nano</span></span></code></pre></div><ol start="4"><li>編輯網路設定檔</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/netplan/01-netcfg.yaml</span></span></code></pre></div><p>修改內容為以下設定 (ipv4 ipv6 gateway dns) 請自行依據實際內容修改</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>network:</span></span>
<span class="line"><span>  version: 2</span></span>
<span class="line"><span>  renderer: networkd</span></span>
<span class="line"><span>  ethernets:</span></span>
<span class="line"><span>    eth:</span></span>
<span class="line"><span>      match:</span></span>
<span class="line"><span>        name: en*</span></span>
<span class="line"><span>      accept-ra: no</span></span>
<span class="line"><span>      addresses:</span></span>
<span class="line"><span>        - 140.128.179.5/24</span></span>
<span class="line"><span>        - 2001:288:5220::05/64</span></span>
<span class="line"><span>      gateway4: 140.128.179.254</span></span>
<span class="line"><span>      gateway6: 2001:288:5220::ff</span></span>
<span class="line"><span>      nameservers:</span></span>
<span class="line"><span>        addresses: [1.1.1.3, 2606:4700:4700::1113]</span></span></code></pre></div><p>nano 使用 ctrl+o、ctrl+x 存檔，因為右邊 ctrl被 host 終端攔截了，所以記得要使用左 Ctrl</p><p>執行以下指令套用前面的網路設定</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo chmod 600 /etc/netplan/01-netcfg.yaml</span></span>
<span class="line"><span>sudo netplan apply</span></span></code></pre></div><p>5.「全域設定/系統/伺服器」修改主機名稱</p><p>如果有修改主機的 ip，記得需要到「全域設定/系統/伺服器」修改主機名稱（網域名稱或ip位址），不然有些功能的連結會出現 (404 not found) 的錯誤。</p><p><img src="`+b+'" alt=""></p><p>參考資料</p><ol><li>(<a href="https://www.snel.com/support/how-to-configure-ipv6-with-netplan-on-ubuntu-18-04/" target="_blank" rel="noreferrer">https://www.snel.com/support/how-to-configure-ipv6-with-netplan-on-ubuntu-18-04/</a>)</li></ol>',32),v=[k];function _(f,w,N,y,S,F){return a(),n("div",null,v)}const P=s(u,[["render",_]]);export{M as __pageData,P as default};
